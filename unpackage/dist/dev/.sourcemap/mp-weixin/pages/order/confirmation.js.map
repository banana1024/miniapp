{"version":3,"sources":["webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue?3071","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue?2aac","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue?4976","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue?0a62","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue?d551","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/main.js","webpack:///E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue?236f"],"names":["Page","App"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,qBAAqB,eAAe,gBAAgB,EAAE;AACtD;AACA;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC,aAAa;AACb,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC;AACA;AACA;AACA,8BAA8B,0BAA0B;AACxD,gCAAgC,sBAAsB;AACtD;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,0BAA0B;AAC1C,kBAAkB,qBAAqB;AACvC;AACA,wBAAwB,4BAA4B;AACpD,0BAA0B,qBAAqB;AAC/C,6BAA6B,SAAS,gCAAgC,EAAE;AACxE;AACA,0BAA0B,sBAAsB;AAChD,4BAA4B,uBAAuB;AACnD;AACA;AACA,4BAA4B,sBAAsB;AAClD,4BAA4B,8BAA8B;AAC1D,8BAA8B,uBAAuB;AACrD;AACA;AACA,8BAA8B,wBAAwB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC,kBAAkB,qBAAqB;AACvC,oBAAoB,sBAAsB;AAC1C,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gDAAgD;AACpE,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC,kBAAkB,qBAAqB;AACvC,oBAAoB,yBAAyB;AAC7C,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC,oBAAoB,yBAAyB;AAC7C,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA,gBAAgB,sBAAsB;AAC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","file":"pages/order/confirmation.js","sourcesContent":["export * from \"-!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=template&id=6a0a722e&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticStyle: { width: \"100%\" } }, [\n    _c(\n      \"view\",\n      {\n        staticClass: \"addr\",\n        attrs: { eventid: \"0b3b29be-0\" },\n        on: { tap: _vm.selectAddress }\n      },\n      [\n        _vm._m(0),\n        _c(\n          \"view\",\n          { staticClass: \"right\" },\n          [\n            _vm.address != null && _vm.address != \"\"\n              ? _c(\"block\", [\n                  _c(\"view\", { staticClass: \"tel-name\" }, [\n                    _c(\"view\", { staticClass: \"name\" }, [\n                      _vm._v(_vm._s(_vm.address.name))\n                    ]),\n                    _c(\"view\", { staticClass: \"tel\" }, [\n                      _vm._v(_vm._s(_vm.address.phoneNumber))\n                    ])\n                  ]),\n                  _c(\"view\", { staticClass: \"addres\" }, [\n                    _vm._v(\n                      _vm._s(_vm.address.province) +\n                        \"-\" +\n                        _vm._s(_vm.address.city) +\n                        \"-\" +\n                        _vm._s(_vm.address.region) +\n                        \"\\n\\t\\t\\t\\t\" +\n                        _vm._s(_vm.address.detailAddress)\n                    )\n                  ])\n                ])\n              : _c(\"block\", [\n                  _c(\n                    \"view\",\n                    {\n                      staticStyle: {\n                        \"font-size\": \"30rpx\",\n                        \"line-height\": \"80rpx\"\n                      }\n                    },\n                    [_vm._v(\"请选择地址\")]\n                  )\n                ])\n          ],\n          1\n        )\n      ]\n    ),\n    _c(\"view\", { staticClass: \"buy-list\" }, [\n      _c(\"view\", { staticClass: \"row\" }, [\n        _vm.orderMsg.product\n          ? _c(\"view\", { staticClass: \"goods-info\" }, [\n              _c(\"view\", { staticClass: \"img\" }, [\n                _c(\"image\", { attrs: { src: _vm.orderMsg.product.pic } })\n              ]),\n              _c(\"view\", { staticClass: \"info\" }, [\n                _c(\"view\", { staticClass: \"title\" }, [\n                  _vm._v(_vm._s(_vm.orderMsg.product.name))\n                ]),\n                _c(\"view\", { staticClass: \"spec\" }, [_vm._v(\"数量:1\")]),\n                _c(\"view\", { staticClass: \"price-number\" }, [\n                  _c(\"view\", { staticClass: \"price\" }, [\n                    _vm._v(\"￥\" + _vm._s(_vm.orderMsg.pointsNum) + \" 积分\")\n                  ]),\n                  _c(\"view\", { staticClass: \"number\" })\n                ])\n              ])\n            ])\n          : _vm._e()\n      ])\n    ]),\n    _c(\"view\", { staticClass: \"order\" }, [\n      _c(\"view\", { staticClass: \"row\" }, [\n        _c(\"view\", { staticClass: \"left\" }, [_vm._v(\"备注 :\")]),\n        _c(\"view\", { staticClass: \"right\" }, [\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.note,\n                expression: \"note\"\n              }\n            ],\n            attrs: { placeholder: \"选填,备注内容\", eventid: \"0b3b29be-1\" },\n            domProps: { value: _vm.note },\n            on: {\n              input: function($event) {\n                if ($event.target.composing) {\n                  return\n                }\n                _vm.note = $event.target.value\n              }\n            }\n          })\n        ])\n      ])\n    ]),\n    _c(\"view\", { staticClass: \"detail\" }, [\n      _c(\"view\", { staticClass: \"row\" }, [\n        _c(\"view\", { staticClass: \"nominal\" }, [_vm._v(\"运费\")]),\n        _c(\"view\", { staticClass: \"content\" }, [\n          _vm._v(\"￥+\" + _vm._s(_vm._f(\"toFixed\")(_vm.orderMsg.expressPrice)))\n        ])\n      ]),\n      _c(\"view\", { staticClass: \"row\" }, [\n        _c(\"view\", { staticClass: \"nominal\" }, [_vm._v(\"积分\")]),\n        _c(\"view\", { staticClass: \"content\" }, [\n          _vm._v(_vm._s(_vm._f(\"toFixed\")(_vm.orderMsg.pointsNum)))\n        ])\n      ])\n    ]),\n    _c(\"view\", { staticClass: \"blck\" }),\n    _c(\"view\", { staticClass: \"footer\" }, [\n      _c(\"view\", { staticClass: \"settlement\" }, [\n        _c(\"view\", { staticClass: \"sum\" }, [\n          _vm._v(\"合计:\"),\n          _c(\"view\", { staticClass: \"money\" }, [\n            _vm._v(\"￥\" + _vm._s(_vm._f(\"toFixed\")(_vm.orderMsg.payAmount)))\n          ])\n        ]),\n        _c(\n          \"view\",\n          {\n            staticClass: \"btn\",\n            attrs: { eventid: \"0b3b29be-2\" },\n            on: { tap: _vm.toPay }\n          },\n          [_vm._v(\"提交订单\")]\n        )\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"icon\" }, [\n      _c(\"image\", { attrs: { src: \"../../static/img/addricon.png\", mode: \"\" } })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=script&lang=js&\"","<template>\n\t<view style=\"width:100%;\">\r\n\t\t<!-- 收货地址 -->\n\t\t<view class=\"addr\" @tap=\"selectAddress\">\r\n\t\t\t<view class=\"icon\">\r\n\t\t\t\t<image src=\"../../static/img/addricon.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<block v-if=\"address != null && address != ''\">\r\n\t\t\t\t<view class=\"tel-name\" >\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t{{address.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tel\">\r\n\t\t\t\t\t\t{{address.phoneNumber}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"addres\">\r\n\t\t\t\t\t{{address.province}}-{{address.city}}-{{address.region}}\r\n\t\t\t\t\t{{address.detailAddress}}\r\n\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-else>\r\n\t\t\t\t\t<view style=\"font-size: 30rpx;line-height: 80rpx;\">请选择地址</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 购买商品列表 -->\r\n\t\t<view class=\"buy-list\">\r\n\t\t<!-- \t <view class=\"row\" v-for=\"(row,index) in buylist\" :key=\"index\"> -->\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<view class=\"goods-info\" v-if=\"orderMsg.product\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image :src=\"orderMsg.product.pic\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t<view class=\"title\">{{orderMsg.product.name}}</view>\r\n\t\t\t\t\t\t<view class=\"spec\">数量:1</view>\r\n\t\t\t\t\t\t<view class=\"price-number\">\r\n\t\t\t\t\t\t\t<view class=\"price\">￥{{orderMsg.pointsNum}} 积分</view>\r\n\t\t\t\t\t\t\t<view class=\"number\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view> \r\n\t\t</view>\r\n\t\t<!-- 提示-备注 -->\r\n\t\t<view class=\"order\">\r\n\t\t\t<!-- <view class=\"row\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t积分 :\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t已扣除{{int}}积分抵扣{{deduction|toFixed}}元\r\n\t\t\t\t</view> \r\n\t\t\t</view>-->\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t备注 :\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<input placeholder=\"选填,备注内容\" v-model=\"note\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 明细 -->\r\n\t\t<view class=\"detail\">\r\n\t\t\t<!-- <view class=\"row\">\r\n\t\t\t\t<view class=\"nominal\">\r\n\t\t\t\t\t商品金额\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t￥{{goodsPrice|toFixed}}\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<view class=\"nominal\">\r\n\t\t\t\t\t运费\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t￥+{{orderMsg.expressPrice|toFixed}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t<view class=\"nominal\">\r\n\t\t\t\t\t积分\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t{{orderMsg.pointsNum|toFixed}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"blck\">\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<view class=\"footer\">\r\n\t\t\t<view class=\"settlement\">\r\n\t\t\t\t<view class=\"sum\">合计:<view class=\"money\">￥{{orderMsg.payAmount|toFixed}}</view></view>\r\n\t\t\t\t<view class=\"btn\" @tap=\"toPay\">提交订单</view>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport {confirmOrder,submitOrder,unifiedOrder} from '@/common/vmeitime-http/'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbuylist:[],\t\t//订单列表\r\n\t\t\t\tgoodsPrice:0.0,\t//商品合计价格\r\n\t\t\t\tsumPrice:0.0,\t//用户付款价格\r\n\t\t\t\tfreight:12.00,\t//运费\r\n\t\t\t\tnote:'',\t\t//备注\r\n\t\t\t\tint:1200,\t\t//抵扣积分\r\n\t\t\t\tdeduction:0,\t//抵扣价格\r\n\t\t\t\tproductId:{name:\"\"} //商品id\r\n\t\t\t\t,addressId:\"\"  //地址id\r\n\t\t\t\t,orderMsg:\"\",\r\n\t\t\t\taddress:\"\",\r\n\t\t\t\tconfirmOrderFlag:true\n\t\t\t};\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis.productId = e.productId;\r\n\t\t\t\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t//页面显示时，加载订单信息\r\n\t\t\t\r\n\t\t\tvar that = this;\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'addressId',\r\n\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\tthat.addressId = res.data;\r\n\t\t\t\t\t//获取确认订单信息\r\n\t\t\t\t\tthat.getConfirmOrderMsg();\r\n\t\t\t\t},\r\n\t\t\t\tfail:function(res){\r\n\t\t\t\t\tthat.getConfirmOrderMsg();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t\r\n\t\t},\r\n\t\tonBackPress() {\r\n\t\t\t//页面后退时候，清除订单信息\r\n\t\t\tthis.clearOrder();\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\ttoFixed:function(x) {\r\n\t\t\t\treturn parseFloat(x).toFixed(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclearOrder(){\r\n\t\t\t\tuni.removeStorage({\r\n\t\t\t\t\tkey: 'buylist',\r\n\t\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\t\tthis.buylist = [];\r\n\t\t\t\t\t\tconsole.log('remove buylist success');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoPay(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!that.confirmOrderFlag){\r\n\t\t\t\t\tuni.showToast({title:'请勿重复提交',icon:'none'});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthat.confirmOrderFlag = false;\r\n\t\t\t\t//商品列表\r\n\t\t\t\tif(that.address == null || that.address == ''){\r\n\t\t\t\t\tuni.showToast({title:'地址不能为空',icon:'none'});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.productId == null || that.productId == ''){\r\n\t\t\t\t\tuni.showToast({title:'订单信息有误，请重新购买',icon:'none'});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'正在提交订单...'\r\n\t\t\t\t})\r\n\t\t\t\tsubmitOrder({\r\n\t\t\t\t\t'orderNote':that.note,\r\n\t\t\t\t\t'addressId':that.addressId,\r\n\t\t\t\t\t'productId':that.productId\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log('request success', res)\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t\t\tif(res.data.data.orderStatus == 0){\r\n\t\t\t\t\t\t\tthat.handlePay(res.data.data.orderId);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl:\"../pay/success\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showToast({title:res.data.message,icon:'none'});\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthat.confirmOrderFlag = true;\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.log('request fail', err);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthat.confirmOrderFlag = true;\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//调用支付\r\n\t\t\thandlePay(orderId){\r\n\t\t\t\tunifiedOrder({\r\n\t\t\t\t\t'orderId':orderId\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log('request success', res)\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\ttimeStamp: res.data.data.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: res.data.data.nonceStr,\r\n\t\t\t\t\t\t\tpackage: res.data.data.packageValue,\r\n\t\t\t\t\t\t\tsignType: res.data.data.signType,\r\n\t\t\t\t\t\t\tpaySign: res.data.data.paySign,\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tconsole.log('success:' + JSON.stringify(res));\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl:\"../pay/success\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function (err) {\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl:\"../myOrder/myOrder?tbIndex=1\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.log('request fail', err);\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//选择收货地址\r\n\t\t\tselectAddress(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../address/address?type=select'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetConfirmOrderMsg(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconfirmOrder({\r\n\t\t\t\t\tproductId:that.productId,\r\n\t\t\t\t\taddressId:that.addressId\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log('request success', res)\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t\t\tthat.orderMsg = res.data.data;\r\n\t\t\t\t\t\tthat.address = res.data.data.umsMemberReceiveAddress;\r\n\t\t\t\t\t\tif(res.data.data.umsMemberReceiveAddress != null && res.data.data.umsMemberReceiveAddress != ''){\r\n\t\t\t\t\t\t\tthat.addressId = res.data.data.umsMemberReceiveAddress.id;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.log('request fail', err);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.addr{\r\n\twidth: 86%;\r\n\tpadding: 20upx 3%;\r\n\tmargin: 30upx auto 20upx auto;\r\n\tbox-shadow: 0upx 5upx 20upx rgba(0,0,0,0.1);\r\n\tborder-radius: 20upx;\r\n\tdisplay: flex;\r\n\t.icon{\r\n\t\twidth: 80upx;\r\n\t\theight: 80upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tvertical-align: middle;\r\n\t\timage{\r\n\t\t\twidth: 40upx;\r\n\t\t\theight: 40upx;\r\n\t\t}\r\n\t}\r\n\t.tel-name{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 32upx;\r\n\t\t.tel{\r\n\t\t\tmargin-left: 40upx;\r\n\t\t}\r\n\t}\r\n\t.addres{\r\n\t\twidth: 100%;\r\n\t\tfont-size: 26upx;\r\n\t\tcolor: #999;\r\n\t}\r\n}\r\n.buy-list{\r\n\twidth: 86%;\r\n\tpadding: 10upx 3%;\r\n\tmargin: 30upx auto 20upx auto;\r\n\tbox-shadow: 0upx 5upx 20upx rgba(0,0,0,0.1);\r\n\tborder-radius: 20upx;\r\n\t.row{\r\n\t\tmargin: 30upx 0;\r\n\t\t.goods-info{\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\t.img{\r\n\t\t\t\twidth: 22vw;\r\n\t\t\t\theight: 22vw;\r\n\t\t\t\tborder-radius: 10upx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tmargin-right: 10upx;\r\n\t\t\t\timage{\r\n\t\t\t\t\twidth: 22vw;\r\n\t\t\t\t\theight: 22vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.info{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 22vw;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t.title{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t// text-align: justify;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t}\r\n\t\t\t\t.spec{\r\n\t\t\t\t\tfont-size: 22upx;\r\n\t\t\t\t\tbackground-color: #f3f3f3;\r\n\t\t\t\t\tcolor: #a7a7a7;\r\n\t\t\t\t\theight: 40upx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tpadding: 0 10upx;\r\n\t\t\t\t\tborder-radius: 20upx;\r\n\t\t\t\t\tmargin-bottom: 20vw;\r\n\t\t\t\t}\r\n\t\t\t\t.price-number{\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tbottom: 0upx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: flex-end;\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\theight: 40upx;\r\n\t\t\t\t\t.price{\r\n\t\t\t\t\t\tcolor: #f06c7a;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.number{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n.order{\r\n\twidth: 86%;\r\n\tpadding: 10upx 3%;\r\n\tmargin: 30upx auto 20upx auto;\r\n\tbox-shadow: 0upx 5upx 20upx rgba(0,0,0,0.1);\r\n\tborder-radius: 20upx;\r\n\t.row{\r\n\t\tmargin: 20upx 0;\r\n\t\theight: 40upx;\r\n\t\tdisplay: flex;\r\n\t\t.left{\r\n\t\t\tfont-size: 28upx;\r\n\t\t}\r\n\t\t.right{\r\n\t\t\tmargin-left: 40upx;\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #999;\r\n\t\t\tinput{\r\n\t\t\t\tfont-size: 26upx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n.blck{\r\n\twidth: 100%;\r\n\theight: 100upx;\r\n}\r\n.footer{\r\n\t\twidth: 92%;\r\n\t\tpadding: 0 4%;\r\n\t\tbackground-color: #fbfbfb;\r\n\t\theight: 100upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\tfont-size: 28upx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0upx;\r\n\t\tz-index: 5;\r\n\t\t\r\n\t\t.settlement{\r\n\t\t\twidth: 80%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t\t.sum{\r\n\t\t\t\twidth: 50%;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tmargin-right: 10upx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t.money{\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.btn{\r\n\t\t\t\tpadding: 0 30upx;\r\n\t\t\t\theight: 60upx;\r\n\t\t\t\tbackground-color:#FF3B1E;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\tborder-radius: 40upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n.detail{\r\n\twidth: 86%;\r\n\tpadding: 10upx 3%;\r\n\tmargin: 30upx auto 20upx auto;\r\n\tbox-shadow: 0upx 5upx 20upx rgba(0,0,0,0.1);\r\n\tborder-radius: 20upx;\r\n\t.row{\r\n\t\theight: 60upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\t.nominal{\r\n\t\t\tfont-size: 28upx;\r\n\t\t}\r\n\t\t.content{\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #f06c7a;\r\n\t\t}\r\n\t}\r\n}\n</style>\n","import mod from \"-!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/order/confirmation.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./confirmation.vue?vue&type=template&id=6a0a722e&\"\nimport script from \"./confirmation.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\我的软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6a0a722e', component.options)\n    } else {\n      api.reload('6a0a722e', component.options)\n    }\n    module.hot.accept(\"./confirmation.vue?vue&type=template&id=6a0a722e&\", function () {\n      api.rerender('6a0a722e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/cauhuanwork/svn2/trunk/hyb-uniapp/pages/order/confirmation.vue\"\nexport default component.exports"],"sourceRoot":""}